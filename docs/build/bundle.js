var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function c(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,n,o,r){return t[1]&&r?e(o.ctx.slice(),t[1](r(n))):o.ctx}function l(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function m(){return d("")}function $(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let h;function v(t){h=t}function b(){const t=function(){if(!h)throw new Error("Function called outside component initialization");return h}();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach(e=>{e.call(t,r)})}}}const y=[],x=[],w=[],A=[],k=Promise.resolve();let E=!1;function S(t){w.push(t)}let _=!1;const j=new Set;function C(){if(!_){_=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];v(e),B(e.$$)}for(y.length=0;x.length;)x.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];j.has(e)||(j.add(e),e())}w.length=0}while(y.length);for(;A.length;)A.pop()();E=!1,_=!1,j.clear()}}function B(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}const M=new Set;let q;function N(){q={r:0,c:[],p:q}}function T(){q.r||r(q.c),q=q.p}function O(t,e){t&&t.i&&(M.delete(t),t.i(e))}function P(t,e,n,o){if(t&&t.o){if(M.has(t))return;M.add(t),q.c.push(()=>{M.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function L(t,e){const n={},o={},r={$$scope:1};let c=t.length;for(;c--;){const s=t[c],i=e[c];if(i){for(const t in s)t in i||(o[t]=1);for(const t in i)r[t]||(n[t]=i[t],r[t]=1);t[c]=i}else for(const t in s)r[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function R(t){return"object"==typeof t&&null!==t?t:{}}function z(t){t&&t.c()}function I(t,e,o){const{fragment:s,on_mount:i,on_destroy:l,after_update:u}=t.$$;s&&s.m(e,o),S(()=>{const e=i.map(n).filter(c);l?l.push(...e):r(e),t.$$.on_mount=[]}),u.forEach(S)}function F(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(t,e){-1===t.$$.dirty[0]&&(y.push(t),E||(E=!0,k.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(e,n,c,s,i,l,u=[-1]){const f=h;v(e);const d=n.props||{},p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:o(),dirty:u};let m=!1;if(p.ctx=c?c(e,d,(t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=r)&&(p.bound[t]&&p.bound[t](r),m&&H(e,t)),n}):[],p.update(),m=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(a)}else p.fragment&&p.fragment.c();n.intro&&O(e.$$.fragment),I(e,n.target,n.anchor),C()}v(f)}class U{$destroy(){F(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const W=[{url:"https://i.ytimg.com/vi/PZpsigEdjOw/hqdefault.jpg",id:1,score:0},{url:"https://i.ytimg.com/vi/3dcli9i_pvA/hqdefault.jpg",id:2,score:0},{url:"https://i.ytimg.com/vi/Ra-Cq19vBXA/hqdefault.jpg",id:3,score:0},{url:"https://i.ytimg.com/vi/2Twtsm6roa8/hqdefault.jpg",id:4,score:0},{url:"https://www.surfcoast.vic.gov.au/files/assets/public/corporate-images/landing-page-images/doglookingup-800x531.jpg",id:5,score:0},{url:"https://i.ytimg.com/vi/RVp3I7Eyjqg/hqdefault.jpg",id:6,score:0},{url:"https://www.telegraph.co.uk/content/dam/Pets/spark/pets-at-home-2017/happy-dog-runs.jpg",id:7,score:0},{url:"https://s1.reutersmedia.net/resources/r/?m=02&d=20120209&t=2&i=568805608&w=1200&r=BTRE8181K3900",id:8,score:0},{url:"https://1.bp.blogspot.com/-uNSrS1kFtLk/TnA7ZCRO9AI/AAAAAAAAAJA/BSztWOrHSIA/s1600/Bulldog%2B-%2Bcompact%2Bdog%2B01.jpg",id:9,score:0}];function Z(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function D(t){let e,n,o;return{c(){e=f("p"),n=d("Score: "),o=d(t[1])},m(t,r){u(t,e,r),l(e,n),l(e,o)},p(t,e){2&e&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(o,t[1])},d(t){t&&a(e)}}}function K(e){let n,o,r,c,s,i,d=e[2]&&D(e);return{c(){n=f("div"),o=f("figure"),r=f("img"),s=p(),d&&d.c(),r.src!==(c=e[0])&&g(r,"src",c),g(r,"alt","picture of a dog"),g(o,"class","image"),g(n,"class","box has-text-centered svelte-1uikstt")},m(t,c,a){u(t,n,c),l(n,o),l(o,r),l(n,s),d&&d.m(n,null),a&&i(),i=$(n,"click",e[3])},p(t,[e]){1&e&&r.src!==(c=t[0])&&g(r,"src",c),t[2]?d?d.p(t,e):(d=D(t),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},i:t,o:t,d(t){t&&a(n),d&&d.d(),i()}}}function V(t,e,n){let{url:o}=e,{id:r}=e,{score:c}=e,{showScore:s=!1}=e;const i=b();return t.$set=t=>{"url"in t&&n(0,o=t.url),"id"in t&&n(4,r=t.id),"score"in t&&n(1,c=t.score),"showScore"in t&&n(2,s=t.showScore)},[o,c,s,function(){i("cardPressed",r)},r]}class X extends U{constructor(t){super(),J(this,t,V,K,s,{url:0,id:4,score:1,showScore:2})}}function G(t){let e,n,o;const r=t[1].default,c=function(t,e,n,o){if(t){const r=i(t,e,n,o);return t[0](r)}}(r,t,t[0],null);return{c(){e=f("section"),n=f("div"),c&&c.c(),g(n,"class","container"),g(e,"class","section svelte-d1zz0e")},m(t,r){u(t,e,r),l(e,n),c&&c.m(n,null),o=!0},p(t,[e]){c&&c.p&&1&e&&c.p(i(r,t,t[0],null),function(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}(r,t[0],e,null))},i(t){o||(O(c,t),o=!0)},o(t){P(c,t),o=!1},d(t){t&&a(e),c&&c.d(t)}}}function Q(t,e,n){let{$$slots:o={},$$scope:r}=e;return t.$set=t=>{"$$scope"in t&&n(0,r=t.$$scope)},[r,o]}class Y extends U{constructor(t){super(),J(this,t,Q,G,s,{})}}function tt(t){let e;return{c(){e=f("div"),e.innerHTML='<div class="notification is-success"><h4 class="title is-4">Click the dog that you think is cuter.</h4></div>',g(e,"class","column has-text-centered has-text-info")},m(t,n){u(t,e,n)},d(t){t&&a(e)}}}function et(t){let n,o,r,c,s,i,d=!t[2]&&tt();const m=[t[0]];let $={};for(let t=0;t<m.length;t+=1)$=e($,m[t]);const h=new X({props:$});h.$on("cardPressed",t[3]);const v=[t[1]];let b={};for(let t=0;t<v.length;t+=1)b=e(b,v[t]);const y=new X({props:b});return y.$on("cardPressed",t[3]),{c(){d&&d.c(),n=p(),o=f("div"),r=f("div"),z(h.$$.fragment),c=p(),s=f("div"),z(y.$$.fragment),g(r,"class","column"),g(s,"class","column"),g(o,"class","columns")},m(t,e){d&&d.m(t,e),u(t,n,e),u(t,o,e),l(o,r),I(h,r,null),l(o,c),l(o,s),I(y,s,null),i=!0},p(t,e){t[2]?d&&(d.d(1),d=null):d||(d=tt(),d.c(),d.m(n.parentNode,n));const o=1&e?L(m,[R(t[0])]):{};h.$set(o);const r=2&e?L(v,[R(t[1])]):{};y.$set(r)},i(t){i||(O(h.$$.fragment,t),O(y.$$.fragment,t),i=!0)},o(t){P(h.$$.fragment,t),P(y.$$.fragment,t),i=!1},d(t){d&&d.d(t),t&&a(n),t&&a(o),F(h),F(y)}}}function nt(t){let e;const n=new Y({props:{$$slots:{default:[et]},$$scope:{ctx:t}}});return{c(){z(n.$$.fragment)},m(t,o){I(n,t,o),e=!0},p(t,[e]){const o={};1031&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){e||(O(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){F(n,t)}}}function ot(t,e,n){const o=b();let r,{competitors:c}=e,s={},i={},l=!1;function u(){const t=c.length-1;n(0,s=c[Z(0,t)]),n(1,i=c[Z(0,t)]),s.id===i.id&&u()}function a(t,e,n,r){const c=t.detail===n.id?1:0,s=function(t,e,n,o,r){o||(o=32),r||(r=!0);var c=1-n,s=t+o*(n-1/(1+Math.pow(10,(e-t)/400))),i=e+o*(c-1/(1+Math.pow(10,(t-e)/400)));return r&&(s=Math.round(s),i=Math.round(i)),{player1:s,player2:i}}(n.score,r.score,c);n.score=s.player1,r.score=s.player2,e.forEach(t=>{t.id===n.id?t.score=n.score:t.id===r.id&&(t.score=r.score)}),o("stateUpdate",e),u()}return u(),t.$set=t=>{"competitors"in t&&n(4,c=t.competitors)},[s,i,l,function(t){n(2,l=!0),clearTimeout(r),r=setTimeout(()=>{n(2,l=!1)},4e3),a(t,c,s,i)},c]}class rt extends U{constructor(t){super(),J(this,t,ot,nt,s,{competitors:4})}}function ct(t,e,n){const o=t.slice();return o[1]=e[n],o}function st(t){let n,o,r,c,s,i,d,m;const $=[t[1],{showScore:!0}];let h={};for(let t=0;t<$.length;t+=1)h=e(h,$[t]);const v=new X({props:h});return{c(){n=f("div"),o=f("div"),r=p(),c=f("div"),z(v.$$.fragment),s=p(),i=f("div"),d=p(),g(o,"class","column is-hidden-mobile"),g(c,"class","column"),g(i,"class","column is-hidden-mobile"),g(n,"class","columns")},m(t,e){u(t,n,e),l(n,o),l(n,r),l(n,c),I(v,c,null),l(n,s),l(n,i),l(n,d),m=!0},p(t,e){const n=1&e?L($,[R(t[1]),$[1]]):{};v.$set(n)},i(t){m||(O(v.$$.fragment,t),m=!0)},o(t){P(v.$$.fragment,t),m=!1},d(t){t&&a(n),F(v)}}}function it(t){let e,n,o=ut(t[0]),r=[];for(let e=0;e<o.length;e+=1)r[e]=st(ct(t,o,e));const c=t=>P(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=m()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);u(t,e,o),n=!0},p(t,n){if(1&n){let s;for(o=ut(t[0]),s=0;s<o.length;s+=1){const c=ct(t,o,s);r[s]?(r[s].p(c,n),O(r[s],1)):(r[s]=st(c),r[s].c(),O(r[s],1),r[s].m(e.parentNode,e))}for(N(),s=o.length;s<r.length;s+=1)c(s);T()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)O(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)P(r[t]);n=!1},d(t){!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(r,t),t&&a(e)}}}function lt(t){let e;const n=new Y({props:{$$slots:{default:[it]},$$scope:{ctx:t}}});return{c(){z(n.$$.fragment)},m(t,o){I(n,t,o),e=!0},p(t,[e]){const o={};17&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){e||(O(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){F(n,t)}}}function ut(t){return t.sort((t,e)=>t.score>e.score?-1:t.score<e.score?1:t.score===e.score?0:void 0)}function at(t,e,n){let{competitors:o=[]}=e;return t.$set=t=>{"competitors"in t&&n(0,o=t.competitors)},[o]}class ft extends U{constructor(t){super(),J(this,t,at,lt,s,{competitors:0})}}function dt(e){let n,o,r,c,s,i,d,m,h;return{c(){n=f("section"),o=f("div"),r=f("div"),c=f("h1"),c.textContent="Welcome to Dog rate",s=p(),i=f("h2"),i.textContent="A webb app implementing the ELO rating algorithm, built with SvelteJS\n        and Bulma!",d=p(),m=f("button"),m.textContent="Start rating",g(c,"class","title"),g(i,"class","subtitle"),g(m,"class","button is-primary is-inverted is-outlined is-large"),g(r,"class","container"),g(o,"class","hero-body"),g(n,"class","hero is-medium is-primary is-bold is-fullheight")},m(t,a,f){u(t,n,a),l(n,o),l(o,r),l(r,c),l(r,s),l(r,i),l(r,d),l(r,m),f&&h(),h=$(m,"click",e[1])},p:t,i:t,o:t,d(t){t&&a(n),h()}}}function pt(t,e,n){let{navigate:o=(()=>{})}=e;return t.$set=t=>{"navigate"in t&&n(0,o=t.navigate)},[o,()=>{o("rate")}]}class mt extends U{constructor(t){super(),J(this,t,pt,dt,s,{navigate:0})}}function $t(t){let e;const n=new ft({props:{competitors:t[1]}});return{c(){z(n.$$.fragment)},m(t,o){I(n,t,o),e=!0},p(t,e){const o={};2&e&&(o.competitors=t[1]),n.$set(o)},i(t){e||(O(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){F(n,t)}}}function gt(t){let e;const n=new rt({props:{competitors:t[1]}});return n.$on("stateUpdate",t[2]),{c(){z(n.$$.fragment)},m(t,o){I(n,t,o),e=!0},p(t,e){const o={};2&e&&(o.competitors=t[1]),n.$set(o)},i(t){e||(O(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){F(n,t)}}}function ht(e){let n;const o=new mt({props:{navigate:e[3]}});return{c(){z(o.$$.fragment)},m(t,e){I(o,t,e),n=!0},p:t,i(t){n||(O(o.$$.fragment,t),n=!0)},o(t){P(o.$$.fragment,t),n=!1},d(t){F(o,t)}}}function vt(t){let e,n,o,c,s,i,d,h,v,b,y,x,w,A,k,E,S,_,j,C;const B=[ht,gt,$t],M=[];function q(t,e){return"about"===t[0]?0:"rate"===t[0]?1:"scoreboard"===t[0]?2:-1}return~(E=q(t))&&(S=M[E]=B[E](t)),{c(){e=f("div"),n=f("ul"),o=f("li"),c=f("a"),c.textContent="About",i=p(),d=f("li"),h=f("a"),h.textContent="Rate",b=p(),y=f("li"),x=f("a"),x.textContent="Scoreboard",k=p(),S&&S.c(),_=m(),g(o,"class",s="about"===t[0]?"is-active":""),g(d,"class",v="rate"===t[0]?"is-active":""),g(y,"class",w="scoreboard"===t[0]?"is-active":""),g(e,"class",A="tabs is-centered "+("about"===t[0]?"is-hidden":""))},m(s,a,f){u(s,e,a),l(e,n),l(n,o),l(o,c),l(n,i),l(n,d),l(d,h),l(n,b),l(n,y),l(y,x),u(s,k,a),~E&&M[E].m(s,a),u(s,_,a),j=!0,f&&r(C),C=[$(o,"click",t[4]),$(d,"click",t[5]),$(y,"click",t[6])]},p(t,[n]){(!j||1&n&&s!==(s="about"===t[0]?"is-active":""))&&g(o,"class",s),(!j||1&n&&v!==(v="rate"===t[0]?"is-active":""))&&g(d,"class",v),(!j||1&n&&w!==(w="scoreboard"===t[0]?"is-active":""))&&g(y,"class",w),(!j||1&n&&A!==(A="tabs is-centered "+("about"===t[0]?"is-hidden":"")))&&g(e,"class",A);let r=E;E=q(t),E===r?~E&&M[E].p(t,n):(S&&(N(),P(M[r],1,1,()=>{M[r]=null}),T()),~E?(S=M[E],S||(S=M[E]=B[E](t),S.c()),O(S,1),S.m(_.parentNode,_)):S=null)},i(t){j||(O(S),j=!0)},o(t){P(S),j=!1},d(t){t&&a(e),t&&a(k),~E&&M[E].d(t),t&&a(_),r(C)}}}function bt(t,e,n){let o="about",r=W;function c(t){n(0,o=t)}return[o,r,function(t){n(1,r=t.detail)},c,()=>{c("about")},()=>{c("rate")},()=>{c("scoreboard")}]}return new class extends U{constructor(t){super(),J(this,t,bt,vt,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
